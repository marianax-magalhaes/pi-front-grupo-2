<app-header></app-header>

<!-- Dados da ENTREGA -->

<!-- Dados do CARRINHO -->
<div class="container mt-5 mb-5">
    <div class="container shadow p-5">
        <div class="p-5 border border-light rounded">
            <h2>Fechamento de Pedido</h2>
            <hr>
            <!-- Tabela com os itens do carrinho -->
            <div class="container">
                <!-- Usando sistema de GRID do Bootstrap -->
                <!-- Verificando se o carrinho está vazio -->
                <div class="pt-5 row" *ngIf="carrinho?.length == 0">
                    <p class="text-danger">Carrinho vazio</p>
                </div>
                <!-- Carrinho com produtos -->
                <div class="pt-5" *ngIf="carrinho?.length > 0">
                    <div class="row no-gutters">
                        <div class="col-6">
                            Dados para Entrega<br>
                            <ul>
                                <li>BRUNO SABIÁ</li>
                                <li>Endereço Fictício, 123 - Apartamento 22</li>
                                <li>Santa Efigência - CEP: 12345-678</li>
                                <li>São Paulo, SP</li>
                            </ul>
                        </div>
                        <div class="col-6 text-right">
                            <br>
                            <br>
                            <br>
                            Data agendada para entrega<br>{{agendamento | date:"dd/MM/yyyy"}}
                        </div>
                    </div>
                    <hr>
                    Itens do Pedido<br>
                    <!-- Criando tabela para exibir os itens do carrinho -->
                    <table class="table table-striped table-hover table-sm">
                        <!-- Colunas -->
                        <tr class="thead-light">
                            <th>Nome</th>
                            <th>Quantidade</th>
                            <th>Preço Unitário</th>
                            <th>Subtotal</th>
                        </tr>
                        <!-- Produtos -->
                        <!-- Se isComprado=false, destacar a linha -->
                        <tr *ngFor="let produto of carrinho">
                            <td>{{produto.nome}}</td>
                            <td>{{produto.quantidade}}</td>
                            <td>{{produto.preco | currency:"BRL"}}</td>
                            <td>{{(produto.quantidade*produto.preco) | currency:"BRL"}}</td>
                        </tr>
                    </table>
                </div>
                <hr>
                <div>
                    <div class="totalizacao">
                        
                            
                                <table>
                                    <tr>
                                        <td>SubTotal:</td>
                                        <td>{{subTotalCompra | currency:"BRL"}}</td>
                                    </tr>
                                    <tr>
                                        <td>Frete:</td>
                                        <td>{{frete | currency:"BRL"}}</td>
                                    </tr>
                                    <tr>
                                        <td>Total do Pedido:</td>
                                        <td>{{subTotalCompra+frete | currency:"BRL"}}</td>
                                    </tr>
                                </table>
                                                        
                                               
                    </div>                    
                    <hr>
                    <br>
                </div>
                <div class="fechar-pedido">
                    <button type="submit">Fechar Pedido</button>
                </div>            
            </div>

        </div>

    </div>

</div>

<app-footer></app-footer>
